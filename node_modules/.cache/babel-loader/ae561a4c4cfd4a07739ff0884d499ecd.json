{"ast":null,"code":"var _jsxFileName = \"/Users/cristianoandradre/Documents/treinamentoAWS/blogfinal/blogfinal/blogfinal/src/components/CreateCommentPost.js\";\nimport React, { Component } from 'react';\nimport { Auth, API, graphqlOperation } from 'aws-amplify';\nimport { createComment } from '../graphql/mutations';\n\nclass CreateCommentPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      commentOwnerId: \"\",\n      commentOwnerUsername: \"\",\n      content: \"\"\n    };\n\n    this.componentWillMount = async () => {\n      await Auth.currentUserInfo().then(user => {\n        this.setState({\n          commentOwnerId: user.attributes.sub,\n          commentOwnerUsername: user.username\n        });\n      });\n    };\n\n    this.handleChangeContet = event => this.setState({\n      content: event.target.value\n    });\n\n    this.handleAddComment = async event => {\n      //evita que a chamada seja feita sem dados ou com dados iniciais\n      event.preventDefault();\n      const input = {\n        //props recebe objeto de outro arquivo JS - neste caso de Display\n        //Posts para linkar o Id do comentário com o id do post \n        //olhar o arquivo de mutations\n        commentPostId: this.props.postId,\n        //id: this.props.postId,\n        commentOwnerId: this.state.commentOwnerId,\n        commentOwnerUsername: this.state.commentOwnerUsername,\n        //state sáo os dados que são tratados no handle.state ou tela\n        content: this.state.content,\n        createdAt: new Date().toISOString()\n      };\n      await API.graphql(graphqlOperation(createComment, {\n        input\n      }));\n      this.setState({\n        content: \"\"\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"add-comment\",\n      onSubmit: this.handleAddComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"content\",\n      rows: \"3\",\n      cols: \"40\",\n      required: true,\n      placeholder: \"Coment\\xE1rios\",\n      value: this.state.content,\n      onChange: this.handleChangeContet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn\",\n      style: {\n        fontSize: '19px'\n      },\n      value: \"Adicionar Coment\\xE1rio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default CreateCommentPost;","map":{"version":3,"sources":["/Users/cristianoandradre/Documents/treinamentoAWS/blogfinal/blogfinal/blogfinal/src/components/CreateCommentPost.js"],"names":["React","Component","Auth","API","graphqlOperation","createComment","CreateCommentPost","state","commentOwnerId","commentOwnerUsername","content","componentWillMount","currentUserInfo","then","user","setState","attributes","sub","username","handleChangeContet","event","target","value","handleAddComment","preventDefault","input","commentPostId","props","postId","createdAt","Date","toISOString","graphql","render","fontSize"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,gBAApB,QAA4C,aAA5C;AACA,SAASC,aAAT,QAA8B,sBAA9B;;AAEA,MAAMC,iBAAN,SAAgCL,SAAhC,CAAyC;AAAA;AAAA;AAAA,SACrCM,KADqC,GAC7B;AACJC,MAAAA,cAAc,EAAE,EADZ;AAEJC,MAAAA,oBAAoB,EAAE,EAFlB;AAGJC,MAAAA,OAAO,EAAC;AAHJ,KAD6B;;AAAA,SAOrCC,kBAPqC,GAOhB,YAAY;AAC7B,YAAMT,IAAI,CAACU,eAAL,GACLC,IADK,CACAC,IAAI,IAAG;AACT,aAAKC,QAAL,CAAc;AACVP,UAAAA,cAAc,EAAEM,IAAI,CAACE,UAAL,CAAgBC,GADtB;AAEVR,UAAAA,oBAAoB,EAAEK,IAAI,CAACI;AAFjB,SAAd;AAIH,OANK,CAAN;AAOH,KAfoC;;AAAA,SAiBrCC,kBAjBqC,GAiBhBC,KAAK,IAAI,KAAKL,QAAL,CAAc;AACxCL,MAAAA,OAAO,EAAEU,KAAK,CAACC,MAAN,CAAaC;AADkB,KAAd,CAjBO;;AAAA,SAqBrCC,gBArBqC,GAqBlB,MAAMH,KAAN,IAAe;AAC9B;AACAA,MAAAA,KAAK,CAACI,cAAN;AACA,YAAMC,KAAK,GAAG;AACV;AACA;AACA;AACAC,QAAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,MAJhB;AAKV;AACApB,QAAAA,cAAc,EAAE,KAAKD,KAAL,CAAWC,cANjB;AAOVC,QAAAA,oBAAoB,EAAE,KAAKF,KAAL,CAAWE,oBAPvB;AAQV;AACAC,QAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWG,OATV;AAUVmB,QAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AAVD,OAAd;AAaA,YAAM5B,GAAG,CAAC6B,OAAJ,CAAY5B,gBAAgB,CAACC,aAAD,EAAgB;AAACoB,QAAAA;AAAD,OAAhB,CAA5B,CAAN;AACA,WAAKV,QAAL,CAAc;AAAEL,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH,KAvCoC;AAAA;;AAyCrCuB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,aAAhB;AACC,MAAA,QAAQ,EAAE,KAAKV,gBADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AACA,MAAA,IAAI,EAAC,MADL;AAEA,MAAA,IAAI,EAAC,SAFL;AAGA,MAAA,IAAI,EAAC,GAHL;AAIA,MAAA,IAAI,EAAC,IAJL;AAKA,MAAA,QAAQ,MALR;AAMA,MAAA,WAAW,EAAC,gBANZ;AAOA,MAAA,KAAK,EAAI,KAAKhB,KAAL,CAAWG,OAPpB;AAQA,MAAA,QAAQ,EAAG,KAAKS,kBARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,eAaI;AACA,MAAA,IAAI,EAAE,QADN;AAEA,MAAA,SAAS,EAAC,KAFV;AAGA,MAAA,KAAK,EAAG;AAACe,QAAAA,QAAQ,EAAC;AAAV,OAHR;AAIA,MAAA,KAAK,EAAC,yBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CADJ,CADJ;AAuBH;;AAjEoC;;AAoEzC,eAAe5B,iBAAf","sourcesContent":["import React, {Component} from 'react'\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\nimport { createComment } from '../graphql/mutations';\n\nclass CreateCommentPost extends Component{\n    state = {\n        commentOwnerId: \"\",\n        commentOwnerUsername: \"\",\n        content:\"\"\n    }\n\n    componentWillMount = async () => {\n        await Auth.currentUserInfo()\n        .then(user =>{\n            this.setState({\n                commentOwnerId: user.attributes.sub,\n                commentOwnerUsername: user.username\n            })\n        })\n    }\n\n    handleChangeContet = event => this.setState({\n        content: event.target.value\n    })\n\n    handleAddComment = async event => {\n        //evita que a chamada seja feita sem dados ou com dados iniciais\n        event.preventDefault()\n        const input = {\n            //props recebe objeto de outro arquivo JS - neste caso de Display\n            //Posts para linkar o Id do comentário com o id do post \n            //olhar o arquivo de mutations\n            commentPostId: this.props.postId, \n            //id: this.props.postId,\n            commentOwnerId: this.state.commentOwnerId,\n            commentOwnerUsername: this.state.commentOwnerUsername,\n            //state sáo os dados que são tratados no handle.state ou tela\n            content: this.state.content,\n            createdAt: new Date().toISOString()\n            \n        }\n        await API.graphql(graphqlOperation(createComment, {input} ))\n        this.setState({ content: \"\" })\n    }\n\n    render(){\n        return (\n            <div>\n                <form className=\"add-comment\"\n                 onSubmit={this.handleAddComment}>\n                    <textarea\n                    type=\"text\"\n                    name=\"content\"\n                    rows=\"3\"\n                    cols=\"40\"\n                    required\n                    placeholder=\"Comentários\"\n                    value = {this.state.content}\n                    onChange= {this.handleChangeContet} />\n                    \n                    <br/>\n                    <input \n                    type= \"submit\"\n                    className=\"btn\" \n                    style= {{fontSize:'19px'}}\n                    value=\"Adicionar Comentário\"/>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default CreateCommentPost;"]},"metadata":{},"sourceType":"module"}
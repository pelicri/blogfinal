{"ast":null,"code":"var _jsxFileName = \"/Users/cristianoandradre/Documents/treinamentoAWS/blogfinal/blogfinal/src/components/EditPost.js\";\nimport React, { Component } from 'react';\nimport { Auth, API, graphqlOperation } from 'aws-amplify';\nimport { updatePost } from '../graphql/mutations';\n\nclass EditPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      show: false,\n      id: \"\",\n      postOwnerId: \"\",\n      postTitle: \"\",\n      postBody: \"\",\n      postOwnerUsername: \"\",\n      postData: {\n        postTitle: this.props.postTitle,\n        postBody: this.props.postBody\n      }\n    };\n\n    this.handleModal = () => {\n      this.setState({\n        show: !this.state.show\n      });\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    };\n\n    this.handleTitle = () => {\n      this.setState({\n        postData: { ...this.state.postData,\n          postTitle: event.target.value\n        }\n      });\n    };\n\n    this.handleBody = () => {\n      this.setState({\n        postData: { ...this.state.postData,\n          postBody: event.target.value\n        }\n      });\n    };\n\n    this.handleUpdatePost = async event => {\n      event.preventDefaul();\n      const input = {\n        id: this.props.id,\n        postOwnerId: this.state.postOwnerId,\n        postOwnerUsername: this.state.postOwnerUsername,\n        postTitle: this.state.postData.postTitle,\n        postBody: this.state.postData.postBody\n      };\n      await API.graphql(graphqlOperation(updatePost, {\n        input\n      })); //force close the modal\n    };\n\n    this.componentWillMount = async () => {\n      await Auth.currentUserInfo().then(user => {\n        this.setState({\n          postOwnerId: user.attributes.sub,\n          postOwnerUsername: user.username\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.show && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"close\",\n      onClick: this.handleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"add-post\",\n      onSubmit: event => this.handleUpdatePost(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        fontSize: \"19px\"\n      },\n      type: \"text\",\n      placeholder: \"Title\",\n      name: \"postTitle\",\n      value: this.state.postData.postTitle,\n      onChange: this.handleTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        height: \"150px\",\n        fontSize: \"19px\"\n      },\n      type: \"text\",\n      name: \"postBody\",\n      value: this.state.postData.postBody,\n      onChange: this.hadleBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, \"Update Post\"))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Edit\"));\n  }\n\n}\n\nexport default EditPost;","map":{"version":3,"sources":["/Users/cristianoandradre/Documents/treinamentoAWS/blogfinal/blogfinal/src/components/EditPost.js"],"names":["React","Component","Auth","API","graphqlOperation","updatePost","EditPost","state","show","id","postOwnerId","postTitle","postBody","postOwnerUsername","postData","props","handleModal","setState","document","body","scrollTop","documentElement","handleTitle","event","target","value","handleBody","handleUpdatePost","preventDefaul","input","graphql","componentWillMount","currentUserInfo","then","user","attributes","sub","username","render","fontSize","height","hadleBody"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Auth, API, graphqlOperation } from 'aws-amplify';\nimport { updatePost } from '../graphql/mutations';\n\nclass EditPost extends Component {\n\nstate = {\n    show: false,\n    id: \"\",\n    postOwnerId: \"\",\n    postTitle:\"\",\n    postBody: \"\",\n    postOwnerUsername: \"\",\n    postData: {\n        postTitle: this.props.postTitle,\n        postBody: this.props.postBody\n    }\n}\n\nhandleModal = () =>{\n    this.setState({show:!this.state.show})\n    document.body.scrollTop = 0\n    document.documentElement.scrollTop = 0\n}\n\nhandleTitle=()=>{\n    this.setState({\n        postData: {...this.state.postData, postTitle:event.target.value}\n    })\n}\n\nhandleBody = () =>{\n    this.setState({\n        postData: {...this.state.postData, postBody:event.target.value}\n    })\n\n}\nhandleUpdatePost = async (event) => {\n    event.preventDefaul();\n    const input = {\n        id: this.props.id,\n        postOwnerId: this.state.postOwnerId,\n        postOwnerUsername: this.state.postOwnerUsername,\n        postTitle: this.state.postData.postTitle,\n        postBody: this.state.postData.postBody\n    }\n    await API.graphql(graphqlOperation(updatePost, {input}))\n    //force close the modal\n}\n\ncomponentWillMount = async () =>{\n    await Auth.currentUserInfo()\n    .then(\n        user => {\n            this.setState({\n                postOwnerId: user.attributes.sub,\n                postOwnerUsername: user.username\n            })\n        }\n    )\n}\n\n    render () {\n        return (\n            <>\n\n            {\n                this.state.show && (\n                    <div className=\"modal\">\n                        <button className=\"close\" onClick={this.handleModal}>\n                            X\n                        </button>\n                        <form className=\"add-post\" onSubmit={(event) => this.handleUpdatePost(event)}>\n                            <input style={{fontSize: \"19px\"}}\n                                   type=\"text\" \n                                   placeholder=\"Title\"\n                                   name=\"postTitle\"\n                                   value={this.state.postData.postTitle}\n                                   onChange={this.handleTitle}/>\n                            \n                            <input \n                              style={{height:\"150px\", fontSize:\"19px\"}} \n                              type = \"text\"\n                              name=\"postBody\"\n                              value={this.state.postData.postBody}\n                              onChange={this.hadleBody} \n                              />\n\n                            <button>Update Post</button>\n                        </form>\n\n                    </div>\n                )\n            }\n\n\n            <button onClick={this.handleModal}>\n                \n                Edit\n            </button>\n            </>\n        )\n    }\n}\nexport default EditPost;"]},"metadata":{},"sourceType":"module"}